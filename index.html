<!DOCTYPE html>
<html data-bs-theme="light" lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
  <title>Home - Brand</title>
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic&amp;display=swap">
  <link rel="stylesheet" href="assets/css/styles.min.css">
  <script src="https://cdn.ably.com/lib/ably.min-1.js" type="text/javascript"></script>
  <script type="text/javascript">
    console.log('On login page now')
    
    function login(e) {
      e.preventDefault();
    
      const username = document.querySelector("#email").value;
      const password = document.querySelector("#password").value;
    
      if (!`${username}`.trim() || !`${password}`.trim()) {
        return alert("Error! Require username and password");
      }
    
      // Send user details to the auth server
      const authUrl = `http://localhost:5500/api/login`;
      // const authUrl = `/api?clientId=${username}:${password}`;
      
      fetch(authUrl, { 
        method: 'post',
        body: username+':'+password,
        headers: {'Content-Type': 'application/json'}
      }).then((res) => {
        console.log('response', res)
        if (res.status == 200) {
          console.log('auth ok:  redirecting to account.html')
          //window.location.href = 'account.html'
        } else {
          console.log('auth failed:  NOT redirecting to account.html')
        }
      })
    }
  </script>
</head>

<body>
  <nav class="navbar navbar-expand bg-light navigation-clean navbar-light">
    <div class="container"><a class="navbar-brand" href="index.html">Demo Company Website</a><button
        class="navbar-toggler" data-bs-toggle="collapse"></button></div>
  </nav>
  <section class="text-center bg-light features-icons"
    style="height: 261.594px;padding: 24px 0px;background: var(--bs-body-bg);border-color: var(--bs-body-bg);">
    <section class="position-relative py-4 py-xl-5" style="height: 600.141px;padding: 23px 0px;margin: -10px;">
      <div class="container">
        <div class="row mb-5">
          <div class="col-md-8 col-xl-6 text-center mx-auto">
            <h2>Log in</h2>
          </div>
        </div>
        <div class="row d-flex justify-content-center" style="height: 352px;margin: -19px;padding: -27px;">
          <div class="col-md-6 col-xl-4">
            <div class="card mb-5">
              <div class="card-body d-flex flex-column align-items-center">
                <div class="bs-icon-xl bs-icon-circle bs-icon-primary bs-icon my-4"><svg
                    xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16"
                    class="bi bi-person">
                    <path
                      d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z">
                    </path>
                  </svg></div>
                <form class="text-center" method="post">
                  <div class="mb-3"><input class="form-control" type="email" name="email" id="email" placeholder="Email"></div>
                  <div class="mb-3"><input class="form-control" type="password" name="password" id="password" placeholder="Password"></div>
                  <div class="mb-3"><button type='submit' onclick='login(event)'>Login using JWT</button></div>
                  <div class="mb-3"><a class="btn btn-primary d-block w-100" role="button" href="account.html">skip login</a></div>
                  <p class="text-muted">Forgot your password?</p>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </section>
  <script src="assets/bootstrap/js/bootstrap.min.js"></script><!--<script src="assets/js/script.min.js"></script>-->
</body>

</html>